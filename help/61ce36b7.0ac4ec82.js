(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{214:function(t,n,e){"use strict";e.r(n),e.d(n,"frontMatter",(function(){return i})),e.d(n,"metadata",(function(){return h})),e.d(n,"rightToc",(function(){return o})),e.d(n,"default",(function(){return l}));var c=e(2),a=e(6),r=(e(0),e(438)),i={id:"block-broadcast-api",title:"Block Broadcast API",sidebar_label:"Block Broadcast API"},h={unversionedId:"block-broadcast-api",id:"block-broadcast-api",isDocsHomePage:!1,title:"Block Broadcast API",description:"Broadcast API cho ph\xe9p g\u1eedi block \u0111\u1ebfn b\u1ea5t k\u1ef3 kh\xe1ch h\xe0ng n\xe0o c\u1ee7a bot. B\u1ea1n c\u0169ng c\xf3 th\u1ec3 g\xe1n thu\u1ed9c t\xednh cho kh\xe1ch h\xe0ng khi d\xf9ng api n\xe0y.",source:"@site/docs/block-broadcast-api.md",slug:"/block-broadcast-api",permalink:"/help/docs/block-broadcast-api",version:"current",sidebar_label:"Block Broadcast API",sidebar:"docs",previous:{title:"Block JSON API",permalink:"/help/docs/block-json-api"},next:{title:"Block Thu\u1ed9c T\xednh",permalink:"/help/docs/block-thuoc-tinh"}},o=[{value:"1. G\u1eedi b\u1eb1ng messenger_user_id",id:"1-g\u1eedi-b\u1eb1ng-messenger_user_id",children:[{value:"M\u1eabu g\u1eedi",id:"m\u1eabu-g\u1eedi",children:[]},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",children:[]}]},{value:"2. G\u1eedi b\u1eb1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",id:"2-g\u1eedi-b\u1eb1ng-s\u1ed1-\u0111i\u1ec7n-tho\u1ea1i",children:[{value:"M\u1eabu g\u1eedi",id:"m\u1eabu-g\u1eedi-1",children:[]},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5-1",children:[]}]},{value:"3. Gi\u1ea3i th\xedch c\xe1c tham s\u1ed1",id:"3-gi\u1ea3i-th\xedch-c\xe1c-tham-s\u1ed1",children:[]}],b={rightToc:o};function l(t){var n=t.components,e=Object(a.a)(t,["components"]);return Object(r.b)("wrapper",Object(c.a)({},b,e,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Broadcast API cho ph\xe9p g\u1eedi block \u0111\u1ebfn b\u1ea5t k\u1ef3 kh\xe1ch h\xe0ng n\xe0o c\u1ee7a bot. B\u1ea1n c\u0169ng c\xf3 th\u1ec3 g\xe1n thu\u1ed9c t\xednh cho kh\xe1ch h\xe0ng khi d\xf9ng api n\xe0y."),Object(r.b)("p",null,"T\u1ea5t c\u1ea3 c\xe1c truy v\u1ea5n t\u1edbi Broadcast API ph\u1ea3i s\u1eed d\u1ee5ng ph\u01b0\u01a1ng th\u1ee9c POST, c\xf3 2 c\xe1ch g\u1eedi broadcast:"),Object(r.b)("h2",{id:"1-g\u1eedi-b\u1eb1ng-messenger_user_id"},"1. G\u1eedi b\u1eb1ng messenger_user_id"),Object(r.b)("h3",{id:"m\u1eabu-g\u1eedi"},"M\u1eabu g\u1eedi"),Object(r.b)("pre",null,Object(r.b)("code",Object(c.a)({parentName:"pre"},{}),"POST https://ahachat.com/api/bots/<BOT_ID>/users/<USER_ID>/send?ahachat_token=<TOKEN>&ahachat_message_tag=<AHACHAT_MESSAGE_TAG>&ahachat_block_name=<BLOCK_NAME>&<USER_ATTRIBUTE_1>=<VALUE_1>&<USER_ATTRIBUTE_2>=<VALUE_2>\n")),Object(r.b)("h3",{id:"v\xed-d\u1ee5"},"V\xed d\u1ee5"),Object(r.b)("p",null,Object(r.b)("img",Object(c.a)({parentName:"p"},{src:"https://lh4.googleusercontent.com/h37INSvpCfUepwKOI2XJcPTC5J3q7HAjz1QtJQEONn7jL3rT8SEt1a2lKcUHhGTX46gfssDrG_6o_jyD2J7PGWiFFbxVyXR9lTq9UPZCLyRu3UP7dH_kgxZEfPHSu1UEXq9lC1C0",alt:null}))),Object(r.b)("h2",{id:"2-g\u1eedi-b\u1eb1ng-s\u1ed1-\u0111i\u1ec7n-tho\u1ea1i"},"2. G\u1eedi b\u1eb1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),Object(r.b)("h3",{id:"m\u1eabu-g\u1eedi-1"},"M\u1eabu g\u1eedi"),Object(r.b)("pre",null,Object(r.b)("code",Object(c.a)({parentName:"pre"},{}),"POST https://ahachat.com/api/bots/<BOT_ID>/phones/send?ahachat_token=<TOKEN>&ahachat_message_tag=<AHACHAT_MESSAGE_TAG>&ahachat_block_name=<BLOCK_NAME>&phone=<USER_PHONE>&<USER_ATTRIBUTE_1>=<VALUE_1>&<USER_ATTRIBUTE_2>=<VALUE_2>\n")),Object(r.b)("h3",{id:"v\xed-d\u1ee5-1"},"V\xed d\u1ee5"),Object(r.b)("p",null,Object(r.b)("img",Object(c.a)({parentName:"p"},{src:"https://lh4.googleusercontent.com/4CaqawKn7UEoysbkgSZcGQuCBK-PV5xWqftskeONdpWJsiZJtYL5LenOjg81C8uhty-TiNh0YGUuadvNjpZn4CEhMJ4BIvnVspRFV_ape6CqDW28WcSnYgx6Z_h0H-KvTbtX3DpH",alt:null}))),Object(r.b)("h2",{id:"3-gi\u1ea3i-th\xedch-c\xe1c-tham-s\u1ed1"},"3. Gi\u1ea3i th\xedch c\xe1c tham s\u1ed1"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<BOT_ID>")," \u2014 ID c\u1ee7a bot b\u1ea1n mu\u1ed1n g\u1eedi tin nh\u1eafn t\u1eeb \u0111\xf3.  "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<MESSENGER_USER_ID>")," \u2014 {{messenger_user_id}} c\u1ee7a kh\xe1ch h\xe0ng m\xe0 b\u1ea1n mu\u1ed1n g\u1eedi broadcast.  "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<USER_PHONE>")," \u2014 S\u1ed1 \u0111i\u1ec7n tho\u1ea1i c\u1ee7a kh\xe1ch h\xe0ng m\xe0 b\u1ea1n mu\u1ed1n g\u1eedi broadcast.  "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<AHACHAT_TOKEN>")," \u2014 M\xe3 token b\xed m\u1eadt duy nh\u1ea5t tcho m\u1ed7i bot. B\u1ea1n c\xf3 th\u1ec3 t\xecm v\xe0 reset l\u1ea1i token n\xe0y trong menu C\xe0i \u0111\u1eb7t b\u1ea5t c\u1ee9 l\xfac n\xe0o.  "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<AHACHAT_MESSAGE_TAG>")," \u2014 Th\u1ebb tin nh\u1eafn cung c\u1ea5p cho b\u1ea1n kh\u1ea3 n\u0103ng g\u1eedi tin nh\u1eafn ngo\xe0i 24h, n\xean d\xf9ng m\u1eb7c \u0111\u1ecbnh l\xe0 NON_PROMOTIONAL_SUBSCRIPTION. ",Object(r.b)("a",Object(c.a)({parentName:"li"},{href:"https://developers.facebook.com/docs/messenger-platform/send-messages/message-tags"}),"See the full list of message tags here"),".",Object(r.b)("br",{parentName:"li"}),"1.1 Tr\u01b0\u1eddng h\u1ee3p d\xf9ng th\u1ebb CONFIRMED_EVENT_UPDATE  Tin nh\u1eafn c\u1eadp nh\u1eadt cho kh\xe1ch h\xe0ng v\u1ec1 s\u1ef1 ki\u1ec7n m\xe0 h\u1ecd \u0111\xe3 \u0111\u0103ng k\xfd, c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi kh\xe1ch h\xe0ng b\u1ea5t k\u1ef3 l\xfac n\xe0o. V\xed d\u1ee5: - Nh\u1eafc nh\u1edf v\u1ec1 m\u1ed9t s\u1ef1 ki\u1ec7n ho\u1eb7c cu\u1ed9c h\u1eb9n - X\xe1c nh\u1eadn \u0111\u1eb7t ph\xf2ng ho\u1eb7c tham d\u1ef1 - C\u1eadp nh\u1eadt l\u1ecbch tr\xecnh di chuy\u1ec3n  ","1.2 Tr\u01b0\u1eddng h\u1ee3p d\xf9ng th\u1ebb POST_PURCHASE_UPDATE Tin nh\u1eafn c\u1eadp nh\u1eadt cho kh\xe1ch h\xe0ng v\u1ec1 giao d\u1ecbch mua h\xe0ng g\u1ea7n \u0111\xe2y, c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi kh\xe1ch h\xe0ng b\u1ea5t k\u1ef3 l\xfac n\xe0o. V\xed d\u1ee5: - H\xf3a \u0111\u01a1n ho\u1eb7c bi\xean lai - T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng, v\u1eadn chuy\u1ec3n - Thay \u0111\u1ed5i li\xean quan \u0111\u1ebfn \u0111\u01a1n h\xe0ng m\xe0 ng\u01b0\u1eddi d\xf9ng \u0111\xe3 \u0111\u1eb7t  ","1.3 Tr\u01b0\u1eddng h\u1ee3p d\xf9ng th\u1ebb ACCOUNT_UPDATE Tin nh\u1eafn c\u1eadp nh\u1eadt cho kh\xe1ch h\xe0ng v\u1ec1 thay \u0111\u1ed5i li\xean quan \u0111\u1ebfn c\xe1 nh\xe2n, c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi kh\xe1ch h\xe0ng b\u1ea5t k\u1ef3 l\xfac n\xe0o. V\xed d\u1ee5: - Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i c\xf4ng vi\u1ec7c - Thay \u0111\u1ed5i t\xe0i kho\u1ea3n thanh to\xe1n - C\u1ea3nh b\xe1o gian l\u1ead")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<AHACHAT_BLOCK_NAME>")," \u2014 T\xean block m\xe0 b\u1ea1n mu\u1ed1n g\u1eedi \u0111\u1ebfn kh\xe1ch h\xe0ng.  "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"<USER_ATTRIBUTE>=<VALUE",">")," \u2014 T\xean v\xe0 gi\xe1 tr\u1ecb c\u1ee7a thu\u1ed9c t\xednh ng\u01b0\u1eddi d\xf9ng b\u1ea1n mu\u1ed1n l\u01b0u khi g\u1eedi tin nh\u1eafn.")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Ghi ch\xfa: B\u1ea1n c\xf3 th\u1ec3 test API online t\u1ea1i ",Object(r.b)("a",Object(c.a)({parentName:"p"},{href:"https://resttesttest.com/"}),"https://resttesttest.com/"))),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"B\u1ea1n c\xf3 b\u1ea5t k\u1ef3 c\xe2u h\u1ecfi n\xe0o li\xean quan \u0111\u1ebfn Broadcast API? B\u1ea1n mu\u1ed1n kh\u1edfi ch\u1ea1y chi\u1ebfn d\u1ecbch ti\u1ebfp c\u1eadn kh\xe1ch h\xe0ng c\u1ee7a m\xecnh b\u1eb1ng Chatbot v\u1edbi m\u1ed9t s\u1ed1 l\u1eddi khuy\xean chuy\xean m\xf4n t\u1eeb \u0110\u1ed1i t\xe1c ti\u1ebfp th\u1ecb c\u1ee7a Facebook? \u0110\u1eebng ng\u1ea7n ng\u1ea1i ",Object(r.b)("a",Object(c.a)({parentName:"em"},{href:"https://m.me/182015432606460?ref=hotro"}),"li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i")," \u0111\u1ec3 c\xf3 c\xe2u tr\u1ea3 l\u1eddi nhanh nh\u1ea5t v\xe0 hi\u1ec7u qu\u1ea3 nh\u1ea5t! T\u1eadn h\u01b0\u1edfng c\xf4ng c\u1ee5 ",Object(r.b)("a",Object(c.a)({parentName:"em"},{href:"https://ahachat.com/"}),"chatbot mi\u1ec5n ph\xed")," c\u1ee7a ch\xfang t\xf4i m\xe0 kh\xf4ng c\u1ea7n ph\u1ea3i tr\u1ea3 b\u1ea5t k\u1ef3 chi ph\xed n\xe0o!")))}l.isMDXComponent=!0},438:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return u}));var c=e(0),a=e.n(c);function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,c)}return e}function h(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function o(t,n){if(null==t)return{};var e,c,a=function(t,n){if(null==t)return{};var e,c,a={},r=Object.keys(t);for(c=0;c<r.length;c++)e=r[c],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(c=0;c<r.length;c++)e=r[c],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(a[e]=t[e])}return a}var b=a.a.createContext({}),l=function(t){var n=a.a.useContext(b),e=n;return t&&(e="function"==typeof t?t(n):h(h({},n),t)),e},s=function(t){var n=l(t.components);return a.a.createElement(b.Provider,{value:n},t.children)},p={inlineCode:"code",wrapper:function(t){var n=t.children;return a.a.createElement(a.a.Fragment,{},n)}},g=a.a.forwardRef((function(t,n){var e=t.components,c=t.mdxType,r=t.originalType,i=t.parentName,b=o(t,["components","mdxType","originalType","parentName"]),s=l(e),g=c,u=s["".concat(i,".").concat(g)]||s[g]||p[g]||r;return e?a.a.createElement(u,h(h({ref:n},b),{},{components:e})):a.a.createElement(u,h({ref:n},b))}));function u(t,n){var e=arguments,c=n&&n.mdxType;if("string"==typeof t||c){var r=e.length,i=new Array(r);i[0]=g;var h={};for(var o in n)hasOwnProperty.call(n,o)&&(h[o]=n[o]);h.originalType=t,h.mdxType="string"==typeof t?t:c,i[1]=h;for(var b=2;b<r;b++)i[b]=e[b];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,e)}g.displayName="MDXCreateElement"}}]);