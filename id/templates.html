 <!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<link rel="alternate" hreflang="en" href="../en/templates.html">
<link rel="alternate" hreflang="vi" href="../templates.html">
<link rel="alternate" hreflang="x-default" href="../templates.html">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="csrf-token" content="1mOzUjqGBHziXRsPkQfW1agTx23XUuzxuEIWl6kg">
<title>Kịch bản chatbot mẫu: Hơn 70+ templates miễn phí đa ngành nghề</title>
<meta name="description" content="Chọn ngay chatbot mẫu chuẩn phù hợp với ngành nghề kinh doanh của bạn để tiết kiệm thời gian chỉnh sửa.">
<meta name="Keywords" content="bot, bot template, bot mẫu, Facebook">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

<link rel="shortcut icon" type="image/png" href="../img/favicon-v2.ico" class="shortcut-icon">
<link rel="apple-touch-icon" sizes="57x57" href="../img/chatbot-icon-57x57-v2.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/chatbot-icon-72x72-v2.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/chatbot-icon-114x114-v2.png">
<link rel="apple-touch-icon" sizes="144x144" href="../img/chatbot-icon-144x144-v2.png">

<link rel="stylesheet" href="../libs/bower_components/bootstrap/dist/css/bootstrap.min.css">

<link rel="stylesheet" href="../libs/bower_components/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../ajax/libs/jqueryui/1.12.1/jquery-ui.css">
<script src="../js/apiclient.js"></script>
<link rel="stylesheet" href="../libs/plugins/animate.min.css">
<link rel="stylesheet" href="../libs/dist/css/AdminLTE.min.css">
<link rel="stylesheet" href="../libs/plugins/iCheck/minimal/blue.css">
<link rel="stylesheet" href="../ajax/libs/toastr.js/latest/css/toastr.min.css">

<link rel="stylesheet" href="../css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
<style>
    body {
      font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-weight: 400;
      overflow-x: hidden;
      overflow-y: auto;
    }

    .mb100 {
      margin-bottom: 100px;
    }

    .mt-5 {
      margin-top: 5px;
    }

    .mb20 {
      margin-bottom: 20px;
    }

    .mt-20 {
      margin-top: 20px;
    }

    .mb30 {
      margin-bottom: 30px;
    }

    .label-danger {
      background-color: #dd4b39 !important;
    }

    header.header .main-site-header .app-sign-in a,
    header.header .main-site-nav a,
    header.header .main-site-nav .dropdown .btn {
      color: #337ab7;
    }

    .main-site-header {
      text-align: center;
      position: relative;
      max-width: 1340px;
      margin: 0 auto;
    }

    .main-site-header .dropdown {
      display: inline-block;
    }

    .main-site-header .dropdown .btn {
      background: transparent !important;
      color: white;
      border: none;
      padding: 0px 25px 3px;
    }

    .main-site-header .dropdown .btn:focus {
      border: 0;
      outline: none;
      box-shadow: none;
    }

    .main-site-header .dropdown .dropdown-menu {
      margin-top: -20px;
    }

    .main-site-header .dropdown .dropdown-menu li a {
      padding: 10px;
      color: #337ab7;
      display: block;
    }

    .main-site-header .logo {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      position: absolute;
      top: 50%;
      left: 60px;
      width: 150px;
    }

    .main-site-header .logo-color {
      display: none;
    }

    .main-site-header .logo img {
      width: 120px;
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header {
        height: 100px;
      }

      .main-site-header .dropdown {
        display: block;
        line-height: 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.5);
      }

      .main-site-header .dropdown .btn {
        padding: 20px 0;
        color: white !important;
      }

      .main-site-header .dropdown .dropdown-menu {
        margin-top: -2px;
        width: 100%;
      }

      .main-site-header .dropdown .dropdown-menu li a {
        color: #337ab7 !important;
      }
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header .logo {
        left: 15px;
        top: 45px;
      }
    }

    @media  screen and (max-width: 600px) {
      .main-site-header .logo {
        left: 20px;
      }
    }

    .main-site-header .hamburger,
    .main-site-header .hamburger:before,
    .main-site-header .hamburger:after {
      width: 17px;
      height: 3px;
      background: rgba(41, 70, 97, 0.6);
      border-radius: 1px;
      -webkit-transition: all 0.3s ease;
      transition: all 0.3s ease;
    }

    .main-site-header .hamburger {
      margin: 4px 9px;
      position: relative;
      display: inline-block;
    }

    .main-site-header .hamburger:before,
    .main-site-header .hamburger:after {
      content: '';
      display: block;
      right: 0;
      position: absolute;
    }

    .main-site-header .hamburger:before {
      top: -6px;
    }

    .main-site-header .hamburger:after {
      top: 6px;
    }

    .main-site-header .mobile-menu {
      display: none;
      color: #fff;
      padding: 9px 0;
      height: 30px;
      cursor: pointer;
      -webkit-transition: color 0.3s ease;
      transition: color 0.3s ease;
      z-index: 401;
      position: absolute;
      top: 30px;
      right: 60px;
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header .mobile-menu {
        display: block;
        right: 45px;
      }

      .main-site-header .logo-text {
        left: 75px;
      }
    }

    @media  screen and (max-width: 768px) {
      .main-site-header .mobile-menu {
        right: 20px;
        top: 24px;
      }

      .main-site-header .logo-text {
        top: 43px;
        left: 75px;
      }
    }

    .main-site-header .mobile-menu:hover {
      color: #fff;
    }

    .main-site-header .mobile-menu:hover .hamburger,
    .main-site-header .mobile-menu:hover .hamburger:before,
    .main-site-header .mobile-menu:hover .hamburger:after {
      background: #294661;
    }

    .main-site-header .main-site-nav {
      display: inline-block;
      line-height: 90px;
    }

    .main-site-header .main-site-nav .main-site-nav-extended {
      display: none;
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header .main-site-nav {
        height: 100%;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        z-index: 400;
        background: #e6692f;
        padding: 45px;
        padding-top: 90px;
        width: 350px;
        text-align: left;
        -webkit-transform: translateX(350px);
        transform: translateX(350px);
        opacity: 0;
        visibility: hidden;
        position: fixed;
        top: 0;
        right: 0;
      }

      .main-site-header .main-site-nav .main-site-nav-extended {
        display: block;
      }
    }

    @media  screen and (max-width: 768px) {
      .main-site-header .main-site-nav {
        padding: 90px 20px 0 20px;
      }
    }

    @media  screen and (max-width: 600px) {
      .main-site-header .main-site-nav {
        width: 250px;
        -webkit-transform: translateX(250px);
        transform: translateX(250px);
      }
    }

    .main-site-header .main-site-nav.main-site-nav-closing {
      -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .main-site-nav a {
      display: inline-block;
      padding: 0 25px;
      color: white;
      -webkit-transition: color 0.3s ease;
      transition: color 0.3s ease;
    }

    .main-site-nav a:hover {
      color: #fff;
    }

    .app-sign-in-2 {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      position: absolute;
      top: 50%;
      right: 50px;
    }

    .app-sign-in-2 .btn-login-ahachat {
      border-radius: 30px;
      background-color: #208ef0;
    }

    .pricing-component .main-site-header .logo-color,
    .about-component .main-site-header .logo-color,
    .carees-social-component .main-site-header .logo-color,
    .video-tutorials-component .main-site-header .logo-color,
    .bot-templates-component .main-site-header .logo-color,
    .affiliate .main-site-header .logo-color {
      display: inline;
    }

    @media  screen and (max-width: 1024px) {
      .main-site-nav a {
        color: #fff !important;
        border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        padding: 20px 0;
        display: block;
        line-height: normal;
      }

      .main-site-nav a:hover {
        color: #fff;
      }

      .main-site-header .app-sign-in-2 {
        display: none;
      }
    }

    .main-site-header .main-site-nav-link-outside {
      color: #fff;
      -webkit-transition: color 0.3s ease;
      transition: color 0.3s ease;
    }

    .main-site-header .main-site-nav-link-outside:hover {
      color: #fff;
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header .main-site-nav-link-outside {
        color: #fff;
        border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        padding: 20px 0;
        display: block;
        line-height: normal;
      }

      .main-site-header .main-site-nav-link-outside:hover {
        color: #fff;
      }
    }

    .main-site-header .app-sign-in {
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      position: absolute;
      top: 50%;
      right: 180px;
    }

    .main-site-header .app-sign-in .icon-flag {
      width: 22px;
    }

    @media  screen and (min-width: 1024px) {
      .main-site-nav a.signin-link {
        display: none;
      }
    }

    @media  screen and (max-width: 1024px) {
      .main-site-header .app-sign-in {
        display: none;
      }
    }

    .main-site-header .app-sign-in a {
      color: #fff;
    }

    .js-main-menu-open .mobile-menu {
      color: #fff;
      position: fixed;
      border-radius: 2px;
    }

    .js-main-menu-open .mobile-menu .hamburger {
      background: none;
    }

    .js-main-menu-open .mobile-menu .hamburger:before,
    .js-main-menu-open .mobile-menu .hamburger:after {
      top: 0;
      background: #fff;
      -webkit-transform: rotate(-45deg);
      transform: rotate(-45deg);
    }

    .js-main-menu-open .mobile-menu .hamburger:after {
      -webkit-transform: rotate(45deg);
      transform: rotate(45deg);
    }

    .js-main-menu-open .mobile-menu:hover {
      color: #fff;
    }

    .js-main-menu-open .mobile-menu:hover .hamburger {
      background: none;
    }

    .js-main-menu-open .mobile-menu:hover .hamburger:before,
    .js-main-menu-open .mobile-menu:hover .hamburger:after {
      background: #fff;
    }

    .js-main-menu-open .main-site-nav {
      -webkit-transform: translateX(0);
      transform: translateX(0);
      opacity: 1;
      visibility: visible;
      -webkit-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .frame-bots {
      margin: 15px;
      margin-bottom: 70px;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 15px;
      padding-bottom: 0;
      position: relative;

    }

    .list-bots .bot-wrap {
      position: relative;
      overflow: hidden;
      height: 200px;
      border-radius: 10px;
      margin-bottom: 15px;
    }

    .list-bots .bot-wrap .bot-template-title {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 15px;
      background-color: rgba(51, 51, 51, 0.5);
      color: white;
      text-align: center;
      font-size: 16px;
    }

    .list-bots .bot-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: all .3s ease;
      -webkit-transition: all .3s ease;
    }

    .list-bots .bot-wrap:hover img {
      filter: blur(3px);
      -webkit-filter: blur(3px);
      transform: scale(1.1);
      -webkit-transform: scale(1.1);
    }

    .list-bots .bot-wrap .bot-template-btns {
      height: 0;
      overflow: hidden;
      transition: all .3s ease;
      -webkit-transition: all .3s ease;
    }

    .list-bots .bot-wrap:hover .bot-template-btns {
      margin-top: 15px;
      height: 40px;
    }

    .list-bots .template-item {
      padding: 15px;
      cursor: pointer;
    }

    .btn-messenger {
      color: #367fff !important;
      background-color: white;
      border-color: #dbdbdb;
    }

    .btn-messenger img {
      width: 20px !important;
      height: 20px !important;
      margin-right: 5px !important;
      -webkit-filter: none !important;
      filter: none !important;
      -webkit-transform: none !important;
      transform: none !important;
    }

    .color-gray {
      color: gray;
    }

    h3.text-center {
      position: absolute;
      z-index: 111;
      top: 0;
      margin: 0;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 0 20px;
      white-space: pre;
    }

    .modal-footer.text-center {
      text-align: center;
    }

    /* Page */
    .page-item {
      display: block;
      position: relative;
      margin: 15px;
      font-family: Arial, sans-serif;
      line-height: 135%;
      cursor: pointer;
    }

    .page-check {
      display: inline-block;
      width: 24px;
    }
  </style>
<script>
    // function toggleDropdown() {
      // document.getElementById("myDropdown").classList.toggle('open');
    // }

    function toggleMenuHeader() {
      document.body.classList.toggle('js-main-menu-open');
    }
  </script>

<script async="" src="../gtag/js?id=G-R6G4HEXVN6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-R6G4HEXVN6');
</script>
</head>
<body class="bot-templates-component">
<header class="header">
<div class="main-site-header site-inner-content cf">
<a href="../index.htm" class="cursor-pointer">
<img class="logo" alt="chatbot" src="../img/LOGO_EXPORT_02.png" class="logo logo-color">
</a>
<div class="main-site-nav">
<a class="signin-link cursor-pointer">Sign in</a>
<a class="signin-link cursor-pointer">EN</a>
<a href="../pricing.html">Harga</a>
<a href="../templates.html">Template</a>
<a href="../tutorials.html">Tutorial</a>
<div class="dropdown" id="myDropdown">
<button class="btn btn-default dropdown-toggle" id="dropdownProduct" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
Produk kami
<span class="caret"></span>
</button>
<ul aria-labelledby="dropdownProduct" class="dropdown-menu">
<li><a href="../help/docs.html">Dokumen Tutorial</a></li>
<li><a href="../tutorials.html">Video Tutorial</a></li>
<li><a href="../help/blog.html">Blog</a></li>
<li><a href="../icon-facebook.html">Icon Facebook</a></li>
<li><a href="../text-overlay-facebook.html">Check text overlay</a></li>
<li><a href="../download-video-facebook.html">Unduh Video Facebook</a></li>
<li><a href="../facebook-text.html">Teks Facebook</a></li>
</ul>
</div>
<a href="../affiliate.html">Affiliate</a>
</div>
<div class="app-sign-in">
<a class="button-sign-in cursor-pointer" href="../templates.html">
<img src="../img/vn_flag_48x48.png" alt="chatbot" width="22" class="icon-flag">
&nbsp;VI
</a>
</div>
<div class="app-sign-in-2">
<a href="https://www.facebook.com/v3.0/dialog/oauth?client_id=170005996917513&redirect_uri=https://ahachat.com/social/auth/facebook&scope=email,public_profile,pages_manage_ads,pages_manage_metadata,pages_read_engagement,pages_read_user_content,pages_manage_posts,pages_manage_engagement,pages_messaging,page_events,ads_management,ads_read&response_type=code&auth_type=rerequest&state=%7B%22locale%22%3A%22id%22%7D" class="btn btn-info btn-flat btn-login-ahachat">
<i class="fa fa-facebook-square"></i>
&nbsp;&nbsp;Sign in
</a>
<a href="https://www.facebook.com/v3.0/dialog/oauth?client_id=170005996917513&redirect_uri=https://ahachat.com/social/auth/facebook&scope=email,public_profile,pages_manage_ads,pages_manage_metadata,pages_read_engagement,pages_read_user_content,pages_manage_posts,pages_manage_engagement,pages_messaging,page_events,ads_management,ads_read&response_type=code&auth_type=rerequest" style="display: none;" id="loginBtn"></a>
</div>
<div class="mobile-menu js-main-site-nav" onclick="toggleMenuHeader()">
<div class="hamburger"></div>
</div>
</div>
</header>
<main class="container">
<div class="bot-store-container">
<div class="row">
<div class="frame-bots">
<h3 class="mt-20 text-center">Template Bot</h3>
<p class="text-center color-gray mb30">Tindakan ini akan menggantikan bot saat ini jika ada</p>
<div class="row list-bots">
</div>
</div>
</div>
<div class="row">
<div class="frame-bots">
<h3 class="mt-20 text-center">Template Flow</h3>
<p class="text-center color-gray mb30">Tindakan ini akan menyalin Flow dan akan ditambahkan ke bot saat ini</p>
<div class="row list-bots">
</div>
</div>
</div>
<div class="row">
<div class="frame-bots">
<h3 class="mt-20 text-center">Template Group</h3>
<p class="text-center color-gray mb30">Tindakan ini akan menyalin grup Flow dan akan ditambahkan ke bot saat ini</p>
<div class="row list-bots">
</div>
</div>
</div>
</div>
</main>
<div class="modal fade modal-bot-template" id="popupTemplate">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span></button>
<h4 class="modal-title">Salin</h4>
</div>
<div class="modal-body">
<div class="form-group" id="facebook-pages"></div>
</div>
<div class="modal-footer text-center">
<button type="button" class="btn btn-default" data-dismiss="modal">Batalkan</button>
<button id="cloneTemplateBtn" type="button" disabled="disabled" class="btn btn-primary" onclick="cloneBotTemplate()">Buat</button>
</div>
</div>

</div>
</div>
<div class="footer text-center">
© 2024 AhaChat
</div>

<script src="../libs/bower_components/jquery/dist/jquery.min.js"></script>

<script src="../libs/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../libs/plugins/iCheck/icheck.js"></script>
<script src="../ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script>
    function getCookie(cname) {
      var name = cname + "=";
      var decodedCookie = decodeURIComponent(document.cookie);
      var ca = decodedCookie.split(';');
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }

    var token = getCookie('token');
    var type;
    var choosenPage;
    var name;
    var botId;
    var ruleId;
    var groupId;
    var isPagesLoaded = false;
    var lang = "id";

    function getPages(choosenType, choosenBotId, choosenRuleId) {
      type = choosenType;
      botId = choosenBotId;

      if (type == 2) {
        ruleId = choosenRuleId;
      } else if (type == 3) {
        groupId = choosenRuleId;
      }
      $('#cloneTemplateBtn').prop("disabled", true);
      $('#facebook-pages').empty();

      $.ajax({
        headers: {
          Authorization: 'Bearer ' + token,
        },
        url: '/api/facebook/pages',
        success: function(result) {
          var pages = result.data.pages;
          if (!pages || pages.length === 0) {
            return window.location.replace('/bots');
          }
          showPages(pages);
        },
        error: function(error) {
          var redirectUrl = lang == 'vi' ? '/templates' : `/${lang}/templates`;
          redirectUrl += `?choosenType=${choosenType}&choosenBotId=${choosenBotId}&choosenRuleId=${choosenRuleId}`;

          var loginUrl = document.getElementById('loginBtn').href;
          loginUrl += '&state=' + encodeURIComponent(JSON.stringify({ locale: lang, redirect_url: redirectUrl }))
          window.location.replace(loginUrl);
        }
      });
    }

    function showPages(pages) {
      pages.forEach(function (page) {
        var input = $('<input>', {
          type: 'radio',
          name: 'fb-page',
          value: JSON.stringify({pageId: page.id, name: page.name})
        })

        if ((page.is_used || !page.is_admin)) {
          radio.prop("disabled", true)
        }

        $(`<div class="row page-item">
          <label>
            <span class="page-check">`
              + (!isDisabledPage(page) ? input[0].outerHTML : '') +
            `</span>
            <img src="${page.picture.data.url}" width="30" height="30">
            <span>${page.name}</span>
          </label>
          <a href="https://www.facebook.com/` + page.id + `" target="_blank"
             title="Redirect to fanpage">
            <i class="fa fa-external-link" aria-hidden="true"></i>
          </a>
          <span class='color-gray'>` + getPageDescription(page) + `</span>
        </div>`)
          .appendTo('#facebook-pages');
      });
      $('#popupTemplate').modal().show();

      //Flat red color scheme for iCheck
      let $iCheck = $('.page-check input[type="radio"]');
      $iCheck.iCheck({
        checkboxClass: 'iradio_minimal-blue',
        radioClass: 'iradio_minimal-blue',
      }).on('ifChecked ifUnchecked', function(){
        $(this)[0].dispatchEvent(new Event("change"));
      });

      $iCheck.change(function() {
        if($(this).prop('checked')) {
          var pageData = JSON.parse($(this).val());

          if (pageData && pageData.pageId) {
            choosePage(pageData.pageId, pageData.name)
          }
        }
      });
    }

    function choosePage(pageId, pageName) {
      $('#cloneTemplateBtn').removeAttr('disabled');
      choosenPage = pageId;
      name = pageName;
    }

    function isDisabledPage(page) {
      if (!page.is_admin) {
        return true;
      }

      if (page.integration_status.clone_at) {
        return true;
      }

      if (type != 1) {
        return false;
      }

      if (page.integration_status.is_used && page.integration_status.can_join) {
        return false;
      }

      return page.integration_status.is_used && !page.integration_status.can_join;
    }

    function getPageDescription(page) {
      if (!page.is_admin) {
        return "(Anda bukan Admin halaman ini)";
      } else if (page.integration_status.is_used && !page.integration_status.can_join) {
        return "(bot telah terintegrasi)";
      } else if (page.integration_status.is_used && page.integration_status.can_join) {
        return "(dibuat oleh {name})".replace('{name}', page.user.full_name);
      } else if (page.integration_status.is_not_clear) {
        return "(digunakan pada bot lain)";
      }

      return '';
    }

    function cloneBotTemplate() {
      if (type == 1) {
        return cloneBot();
      } else if (type == 2) {
        return cloneStory();
      }
      return cloneGroup();
    }

    function cloneBot() {
      $('#cloneTemplateBtn').prop("disabled", true);
      var data = {
        page_id: choosenPage,
        name: name,
        channel_type: 1,
      };

      $.ajax({
        method: 'POST',
        url: '/api/templates/cloneBot/' + botId,
        headers: {
          Authorization: 'Bearer ' + token,
        },
        data: data,
        success: function(result) {
          window.location.href = '/bots/' + result.data.id + '/story';
          $('#cloneTemplateBtn').removeAttr('disabled');
        },
        error: function(error) {
          // show error
          $('#cloneTemplateBtn').removeAttr('disabled');

          if (error && error.responseJSON) {
            toastr.error(error.responseJSON.message)
          }
        }
      });
    }

    function cloneStory() {
      $('#cloneTemplateBtn').prop("disabled", true);
      $.ajax({
        method: 'POST',
        url: '/api/templates/story/clone',
        headers: {
          Authorization: 'Bearer ' + token,
        },
        data: {
          name: name,
          page_id: choosenPage,
          bot_id: botId,
          rule_id: ruleId,
        },
        success: function(result) {
          window.location.href = '/bots/' + result.data.id + '/ai/phrase';
          $('#cloneTemplateBtn').removeAttr('disabled');
        },
        error: function(error) {
          // show error
          $('#cloneTemplateBtn').removeAttr('disabled');

          if (error && error.responseJSON) {
            toastr.error(error.responseJSON.message)
          }
        }
      });
    }

    function cloneGroup() {
      $('#cloneTemplateBtn').prop("disabled", true);
      $.ajax({
        method: 'POST',
        url: '/api/templates/group/clone',
        headers: {
          Authorization: 'Bearer ' + token,
        },
        data: {
          name: name,
          page_id: choosenPage,
          bot_id: botId,
          group_id: groupId,
        },
        success: function(result) {
          window.location.href = '/bots/' + result.data.id + '/ai/phrase';
          $('#cloneTemplateBtn').removeAttr('disabled');
        },
        error: function(error) {
          // show error
          $('#cloneTemplateBtn').removeAttr('disabled');

          if (error && error.responseJSON) {
            toastr.error(error.responseJSON.message)
          }
        }
      });
    }

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('choosenType') && urlParams.get('choosenBotId') && urlParams.get('choosenRuleId')) {
      getPages(urlParams.get('choosenType'), urlParams.get('choosenBotId'), urlParams.get('choosenRuleId'))
    }
  </script>
</body>
</html>
